@using EstagioGO.Models
@model UserDetailViewModel

@{
    ViewData["Title"] = "Detalhes do Usuário";
    var isDefaultAdmin = Model.Email.Equals("admin@estagio.com", StringComparison.OrdinalIgnoreCase);
}

<div class="container mt-4">
    <h1>@ViewData["Title"]</h1>

    @if (isDefaultAdmin)
    {
        <div class="alert alert-info" role="alert">
            <i class="bi bi-info-circle"></i> Este é o usuário administrador padrão do sistema.
        </div>
    }

    <div class="card">
        <div class="card-header">
            <h5>Informações do Usuário</h5>
        </div>
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.NomeCompleto)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.NomeCompleto)
                </dd>

                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.Email)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Email)
                </dd>

                <dt class="col-sm-3">
                    @Html.DisplayNameFor(model => model.Cargo)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Cargo)
                </dd>

                <dt class="col-sm-3">
                    Papel
                </dt>
                <dd class="col-sm-9">
                    <span class="badge bg-primary">@Model.Role</span>
                </dd>

                <dt class="col-sm-3">
                    Data de Cadastro
                </dt>
                <dd class="col-sm-9">
                    @Model.DataCadastro.ToString("dd/MM/yyyy HH:mm")
                </dd>

                <dt class="col-sm-3">
                    Status
                </dt>
                <dd class="col-sm-9">
                    @if (Model.Ativo)
                    {
                        <span class="badge bg-success">Ativo</span>
                    }
                    else
                    {
                        <span class="badge bg-danger">Inativo</span>
                    }
                </dd>

                <dt class="col-sm-3">
                    Primeiro Acesso
                </dt>
                <dd class="col-sm-9">
                    @if (Model.PrimeiroAcessoConcluido)
                    {
                        <span class="badge bg-success">Concluído</span>
                    }
                    else
                    {
                        <span class="badge bg-warning">Pendente</span>
                    }
                </dd>
            </dl>
        </div>
        <div class="card-footer">
            <a asp-action="UserManagement" class="btn btn-secondary">Voltar para a Lista</a>

            @if (!isDefaultAdmin)
            {
                <a asp-action="EditUser" asp-route-id="@Model.Id" class="btn btn-primary ms-2">Editar</a>
            }
        </div>
    </div>
</div>